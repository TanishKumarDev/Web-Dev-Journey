# Chapter: React Hook Form

---

## 1. What & Why

### What is React Hook Form

* It’s a library for form state management & validation in React. ([react-hook-form.com][1])
* Built on React Hooks. ([Refine][2])
* Supports both web and React Native. ([react-hook-form.com][3])

### Why it exists / Problems it solves

* Handling forms manually (with `useState`, custom validation) becomes **verbose**, **bug-prone**.
* Using all inputs as controlled components causes **many re-renders**, performance issues. React Hook Form uses *uncontrolled inputs by default* to minimize re-renders. ([Refine][2])
* Needs validation, error messages, default values, integration with UI framework, schema validation. It gives a lot of form functionality with minimal code. ([react-hook-form.com][1])

---

## 2. Core Concepts / How it works

Here are the main API parts & logic:

| Concept                                  | Description / Logic                                                                                                                                                   |
| ---------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `useForm()`                              | Main hook to create form instance. Returns helpers like `register`, `handleSubmit`, `formState`, etc. ([react-hook-form.com][1])                                      |
| `register(name, options?)`               | Register an input field so React Hook Form tracks its value & validation rules. It uses `ref` and DOM under the hood. ([react-hook-form.com][3])                      |
| `handleSubmit(onValid, onInvalid?)`      | Wraps the form’s `onSubmit` event, runs validation, gives cleaned data to you. ([react-hook-form.com][1])                                                             |
| `formState` / `errors`                   | Holds the validation result, which fields are invalid, etc. Use `formState.errors` to show error messages. ([react-hook-form.com][3])                                 |
| `watch()`                                | React Hook Form can “watch” input value(s) to react to changes. Useful for conditional fields. ([react-hook-form.com][1])                                             |
| `defaultValues`                          | Set initial values for inputs. Helps with resetting or default form state. ([react-hook-form.com][3])                                                                 |
| `Controller`                             | For integrating *controlled components* (e.g. UI framework inputs) with React Hook Form. Because some UI libs require controlled behavior. ([react-hook-form.com][4]) |
| Schema-based validation (Yup, Zod, etc.) | Instead of inline rules, use a schema for validation, and pass via resolver. ([react-hook-form.com][3])                                                               |

---

## 3. Use Cases & When To Use It

### Use Cases

* Signup / Login forms (name, email, password, etc.)
* Multi-step forms
* Forms with conditionally shown fields (e.g. “if checkbox is checked, show extra input”)
* Forms with complex validation (e.g. password strength, email format, matching passwords)
* Forms that need to integrate with UI libraries (Material-UI, AntD) or custom input components

### When It’s a Good Fit

* When you want better performance (less re-rendering)
* When your form has many fields
* When validation logic is non-trivial
* When you want default values, reset, watch, etc.

### When Maybe Not Needed

* Very simple forms (1-2 fields) where overhead of installing a library might feel unnecessary
* Cases where you are okay with basic HTML form + minimal validation

---

## 4. API / Syntax: Example Code

Here’s a basic example with comments, structure, validations:

```jsx
// File: /src/components/RegisterForm.jsx

import React from "react";
import { useForm } from "react-hook-form";

const RegisterForm = ({ onSubmit }) => {
  // Initialize the form
  const {
    register,            // for registering inputs
    handleSubmit,        // function to wrap submit
    watch,                // for watching field values
    reset,                // to reset form
    formState: { errors, isSubmitting }  // errors & submission state
  } = useForm({
    defaultValues: {
      firstName: "",
      lastName: "",
      email: "",
      password: ""
    }
  });

  // Function called when form is valid
  const submitHandler = (data) => {
    // data contains values of all registered fields
    console.log("Validated Data:", data);
    onSubmit(data);
    reset();  // reset form after submit
  };

  return (
    <form onSubmit={handleSubmit(submitHandler)} className="space-y-4">
      <div>
        <label className="block mb-1">First Name</label>
        <input
          {...register("firstName", { required: "First name is required" })}
          className="border rounded p-2 w-full"
        />
        {errors.firstName && (
          <p className="text-red-500 text-sm">{errors.firstName.message}</p>
        )}
      </div>

      <div>
        <label className="block mb-1">Email</label>
        <input
          {...register("email", {
            required: "Email is required",
            pattern: {
              value: /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,
              message: "Invalid email address"
            }
          })}
          className="border rounded p-2 w-full"
        />
        {errors.email && (
          <p className="text-red-500 text-sm">{errors.email.message}</p>
        )}
      </div>

      <div>
        <label className="block mb-1">Password</label>
        <input
          type="password"
          {...register("password", {
            required: "Password is required",
            minLength: { value: 6, message: "Minimum length is 6" }
          })}
          className="border rounded p-2 w-full"
        />
        {errors.password && (
          <p className="text-red-500 text-sm">{errors.password.message}</p>
        )}
      </div>

      <button
        type="submit"
        className="bg-blue-500 text-white px-4 py-2 rounded"
        disabled={isSubmitting}
      >
        {isSubmitting ? "Submitting..." : "Register"}
      </button>
    </form>
  );
};

export default RegisterForm;
```

---

## 5. Structure + File Naming + Organization

```
src/
 ├── components/
 │     └── RegisterForm.jsx
 ├── pages/ (if your app has pages)
 │     └── RegisterPage.jsx
 └── App.jsx
```

* Component files in `components/`
* If you have multiple forms, reuse components, or wrap common input + error UI
* Use PascalCase names for components

---

## 6. Extra Features / Advanced

* Controlled + Uncontrolled mixed components via `Controller`. Useful when using UI libraries where inputs don’t expose `ref` the way needed. ([react-hook-form.com][4])
* Schema validation (Yup, Zod, etc.) using resolvers. It allows you to define validation rules outside the component and keep code clean. ([react-hook-form.com][3])
* Resetting form to default values. Reset method. ([react-hook-form.com][4])
* Watching fields with `watch()` or `useWatch` to trigger UI changes (conditional fields, dynamic validation). ([react-hook-form.com][1])

---

## 7. Common Mistakes / Gotchas

* Forgetting to register an input → that field won’t be tracked.
* Using controlled components without `Controller` where needed → extra complexity.
* Over-validating or performing validation in render → cause performance issues.
* Not using `key` when rendering dynamic fields arrays.
* Not providing `defaultValues` when resetting → reset might not work as expected.
* Misusing `watch` too much → can cause unnecessary re-renders if overused.

---

## 8. Summary Notes

* React Hook Form uses *uncontrolled components* by default for performance.
* It minimizes re-rendering.
* API is minimal: `useForm`, `register`, `handleSubmit`, `formState`, `watch` etc.
* Validation rules can be inline or via schema.
* Great integration with UI libs and custom inputs via `Controller`.
