<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>JavaScript Objects Demo</title>
  <style>
    /* Basic styling for clarity */
    body {
      font-family: Arial, sans-serif;
      max-width: 600px;
      margin: 20px auto;
      padding: 10px;
    }
    button {
      padding: 8px;
      margin: 5px;
    }
    #demo {
      border: 1px solid #ccc;
      padding: 10px;
      margin: 10px 0;
    }
  </style>
</head>
<body>
  <h1>JavaScript Objects Demo</h1>
  <p>This page demonstrates JavaScript objects, properties, methods, display techniques, and constructors.</p>
  <div id="demo">Initial Content</div>
  <button onclick="displayCar()">Display Car Properties</button>
  <button onclick="displayPerson()">Display Person Full Name</button>
  <button onclick="addProperty()">Add Nationality</button>
  <button onclick="displayNested()">Display Nested Car</button>

  <script>
    /*
     * JavaScript Objects - Explanation and Demo
     * 
     * This demo covers:
     * 1. Object Literals: Creating objects with name:value pairs
     * 2. Accessing Properties: Dot notation, bracket notation, expressions
     * 3. Object Methods: Functions stored as properties
     * 4. Adding/Deleting Properties: Modifying objects
     * 5. Nested Objects: Objects as property values
     * 6. Displaying Objects: Using properties, loops, Object.values(), JSON.stringify()
     * 7. Object Constructors: Creating multiple objects with constructor functions
     * 8. Primitives vs. Objects: Mutability and immutability
     * 9. Exercises: Object-related outcomes
     * 
     * Key Points:
     * - Objects are containers for properties (named values) and methods (functions)
     * - Properties can be accessed via objectName.property or objectName["property"]
     * - Objects are mutable, addressed by reference; primitives are immutable
     * - Use object literals {} over new Object() for simplicity
     * - Constructor functions create multiple objects of the same type
     * - Object methods use 'this' to refer to the object
     * 
     * Current Date: June 08, 2025
     */

    // =============================================
    // 1. OBJECT LITERALS
    // =============================================
    /*
     * Objects are defined with curly braces {} containing name:value pairs.
     * Example: Car and person objects.
     */

    const car = {
      brand: "Volvo",
      model: "EX90",
      weight: "850kg",
      color: "white"
    };

    const person = {
      firstName: "John",
      lastName: "Doe",
      age: 50,
      eyeColor: "blue",
      fullName: function() {
        return this.firstName + " " + this.lastName;
      }
    };

    console.log("Car object:", car); // {brand: "Volvo", model: "EX90", weight: "850kg", color: "white"}
    console.log("Person object:", person); // {firstName: "John", lastName: "Doe", age: 50, eyeColor: "blue", fullName: ƒ}

    // =============================================
    // 2. ACCESSING PROPERTIES
    // =============================================
    /*
     * Properties can be accessed using dot notation, bracket notation, or expressions.
     * Example: Accessing car and person properties.
     */

    console.log("Dot notation (car.brand):", car.brand); // Volvo
    console.log("Bracket notation (car['model']):", car["model"]); // EX90
    let prop = "color";
    console.log("Expression (car[prop]):", car[prop]); // white

    let text = person.firstName + " is " + person["age"] + " years old.";
    console.log("Property access:", text); // John is 50 years old.

    // =============================================
    // 3. OBJECT METHODS
    // =============================================
    /*
     * Methods are functions stored as properties. Use () to execute.
     * Example: Person's fullName method and adding a new method.
     */

    console.log("Method call (person.fullName()):", person.fullName()); // John Doe
    console.log("Method without () (person.fullName):", person.fullName); // [Function: fullName]

    // Adding a method to an object
    person.upperName = function() {
      return (this.firstName + " " + this.lastName).toUpperCase();
    };
    console.log("New method (person.upperName()):", person.upperName()); // JOHN DOE

    // =============================================
    // 4. ADDING/DELETING PROPERTIES
    // =============================================
    /*
     * Properties can be added or deleted dynamically.
     * Example: Adding and deleting properties.
     */

    person.nationality = "English";
    console.log("After adding nationality:", person.nationality); // English

    delete person.age;
    console.log("After deleting age:", person.age); // undefined

    // =============================================
    // 5. NESTED OBJECTS
    // =============================================
    /*
     * Objects can contain other objects as properties.
     * Example: Nested car object.
     */

    const myObj = {
      name: "John",
      age: 30,
      myCars: {
        car1: "Ford",
        car2: "BMW",
        car3: "Fiat"
      }
    };

    console.log("Nested dot notation (myObj.myCars.car2):", myObj.myCars.car2); // BMW
    console.log("Nested bracket notation (myObj['myCars']['car3']):", myObj["myCars"]["car3"]); // Fiat
    let p1 = "myCars", p2 = "car1";
    console.log("Nested expression (myObj[p1][p2]):", myObj[p1][p2]); // Ford

    // =============================================
    // 6. DISPLAYING OBJECTS
    // =============================================
    /*
     * Objects display as [object Object] unless processed.
     * Methods: By property, loop, Object.values(), JSON.stringify().
     */

    // Direct display (not useful)
    console.log("Direct object display:", person); // [object Object]

    // Display by properties
    let propText = person.firstName + ", " + person.lastName + ", " + person.eyeColor;
    console.log("Display by properties:", propText); // John, Doe, blue

    // Display using for...in loop
    let loopText = "";
    for (let x in car) {
      loopText += car[x] + " ";
    }
    console.log("Display with for...in:", loopText); // Volvo EX90 850kg white

    // Display using Object.values()
    let valuesArray = Object.values(person);
    console.log("Display with Object.values():", valuesArray); // ["John", "Doe", undefined, "blue", ƒ, ƒ, "English"]

    // Display using Object.entries()
    let entriesText = "";
    for (let [key, value] of Object.entries(car)) {
      entriesText += key + ": " + value + ", ";
    }
    console.log("Display with Object.entries():", entriesText); // brand: Volvo, model: EX90, weight: 850kg, color: white,

    // Display using JSON.stringify()
    let jsonString = JSON.stringify(person);
    console.log("Display with JSON.stringify():", jsonString); // {"firstName":"John","lastName":"Doe","eyeColor":"blue","nationality":"English"}

    // =============================================
    // 7. OBJECT CONSTRUCTORS
    // =============================================
    /*
     * Constructor functions create multiple objects of the same type.
     * Use 'this' to set properties and methods.
     * Example: Person constructor.
     */

    function Person(first, last, age, eye) {
      this.firstName = first;
      this.lastName = last;
      this.age = age;
      this.eyeColor = eye;
      this.fullName = function() {
        return this.firstName + " " + this.lastName;
      };
    }

    const myFather = new Person("John", "Doe", 50, "blue");
    const myMother = new Person("Sally", "Rally", 48, "green");

    console.log("Constructor myFather:", myFather.fullName()); // John Doe
    console.log("Constructor myMother:", myMother.fullName()); // Sally Rally

    // Adding a property to a single object
    myFather.nationality = "English";
    console.log("myFather nationality:", myFather.nationality); // English
    console.log("myMother nationality:", myMother.nationality); // undefined

    // Adding a property to the constructor's prototype
    Person.prototype.hometown = "Roma";
    console.log("myFather hometown (prototype):", myFather.hometown); // Roma
    console.log("myMother hometown (prototype):", myMother.hometown); // Roma

    // Adding a method to the constructor's prototype
    Person.prototype.changeName = function(name) {
      this.lastName = name;
    };
    myMother.changeName("Smith");
    console.log("myMother after changeName:", myMother.fullName()); // Sally Smith

    // =============================================
    // 8. PRIMITIVES VS. OBJECTS
    // =============================================
    /*
     * Primitives (e.g., string, number) are immutable.
     * Objects are mutable, addressed by reference.
     */

    let x = person;
    x.firstName = "Jane";
    console.log("Object mutability (person.firstName):", person.firstName); // Jane (person is changed)

    let num = 3.14;
    let y = num;
    y = 2.71;
    console.log("Primitive immutability (num):", num); // 3.14 (num unchanged)

    // =============================================
    // 9. INTERACTIVE DEMO FUNCTIONS
    // =============================================
    /*
     * Functions to update the HTML content when buttons are clicked.
     */

    function displayCar() {
      let text = car.brand + ", " + car.model + ", " + car.weight + ", " + car.color;
      document.getElementById("demo").innerHTML = text;
      console.log("Display car:", text); // Volvo, EX90, 850kg, white
    }

    function displayPerson() {
      let text = person.fullName() + " is " + person.eyeColor;
      document.getElementById("demo").innerHTML = text;
      console.log("Display person:", text); // Jane Doe is blue
    }

    function addProperty() {
      person.country = "USA";
      let text = person.fullName() + " is from " + person.country;
      document.getElementById("demo").innerHTML = text;
      console.log("Add property:", text); // Jane Doe is from USA
    }

    function displayNested() {
      let text = myObj.name + " owns a " + myObj.myCars.car2;
      document.getElementById("demo").innerHTML = text;
      console.log("Display nested:", text); // John owns a BMW
    }

    // Initial call
    displayCar();

    // =============================================
    // 10. EXERCISES
    // =============================================
    /*
     * Exercise 1: How many properties does const car = {brand: 'Volvo', model: 'EX90'} have?
     * Correct Answer: 2
     * 
     * Exercise 2: What is NOT a correct syntax to alert 'Volvo' from car?
     * Correct Answer: alert(car[brand]) (brand must be a string or variable)
     * 
     * Exercise 3: How many methods does const person = {firstname: 'Jane', lastname: 'Doe', fullname: function() {...}} have?
     * Correct Answer: 1
     * 
     * Exercise 4: Which is a built-in JavaScript Object method?
     * Correct Answer: entries()
     * 
     * Exercise 5: What is the correct syntax for adding a new property to the Person constructor?
     * Correct Answer: Person.prototype.hometown = 'Roma'
     */

    console.log("Exercise 1 answer: car has 2 properties");
    console.log("Exercise 2 answer: alert(car[brand]) is incorrect (missing quotes)");
    console.log("Exercise 3 answer: person has 1 method (fullname)");
    console.log("Exercise 4 answer: entries() is a built-in Object method");
    console.log("Exercise 5 answer: Person.prototype.hometown = 'Roma'");

  </script>
</body>
</html>