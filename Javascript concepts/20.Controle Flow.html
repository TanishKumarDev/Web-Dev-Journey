<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>JavaScript Conditionals & Loops Demo</title>
  <style>
    /* Styling for the conditionals and loops demo */
    body {
      font-family: Arial, sans-serif;
      max-width: 800px;
      margin: 20px auto;
      padding: 10px;
      color: white;
      background-color: rgb(22, 22, 22);
    }
    input, button, select {
      padding: 8px;
      margin: 5px;
      border: none;
      border-radius: 4px;
    }
    button {
      background-color: #007bff;
      color: white;
      cursor: pointer;
    }
    button:hover {
      background-color: #0056b3;
    }
    #output {
      margin-top: 20px;
      padding: 10px;
      border: 1px solid #444;
      border-radius: 4px;
      background-color: #333;
    }
    .highlight {
      background-color: #444;
      padding: 2px 5px;
      border-radius: 3px;
    }
    .error {
      color: #ff4444;
      font-style: italic;
    }
    #action-buttons {
      display: flex;
      flex-wrap: wrap;
      gap: 5px;
      margin-top: 10px;
    }
    label {
      margin-right: 10px;
    }
    form {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    a {
      color: #007bff;
      text-decoration: none;
    }
    a:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>
  <h1>JavaScript Conditionals & Loops Demo</h1>
  <p>Explore if/else, switch, loops, and break/continue statements.</p>
  <form id="greeting-form">
    <label for="time-input">Enter Time (0-23):</label>
    <input type="number" id="time-input" placeholder="e.g., 14" min="0" max="23">
    <button type="submit">Generate Greeting</button>
  </form>
  <form id="weekday-form">
    <label for="day-input">Enter Day Number (0-6):</label>
    <input type="number" id="day-input" placeholder="e.g., 0" min="0" max="6">
    <button type="submit">Get Weekday</button>
  </form>
  <form id="loop-form">
    <label for="iterations-input">Iterations:</label>
    <input type="number" id="iterations-input" placeholder="e.g., 5" min="1">
    <select id="loop-type">
      <option value="for">for</option>
      <option value="for-in">for/in</option>
      <option value="for-of">for/of</option>
      <option value="while">while</option>
      <option value="do-while">do/while</option>
      <option value="forEach">forEach</option>
    </select>
    <select id="data-type">
      <option value="array">Array (Cars)</option>
      <option value="object">Object (Person)</option>
      <option value="string">String (JavaScript)</option>
    </select>
    <button type="submit">Run Loop</button>
  </form>
  <form id="control-form">
    <label for="control-value">Break/Continue at Value:</label>
    <input type="text" id="control-value" placeholder="e.g., Volvo">
    <select id="control-type">
      <option value="break">Break</option>
      <option value="continue">Continue</option>
    </select>
    <button type="submit">Apply Control</button>
  </form>
  <div id="action-buttons">
    <button id="random-link">Generate Random Link</button>
    <button id="labeled-break">Test Labeled Break</button>
  </div>
  <div id="output"></div>

  <script>
    /*
     * JavaScript Conditionals & Loops Demo
     * 
     * This project demonstrates JavaScript conditionals, loops, and control flow:
     * 1. Conditionals: if/else/else if, switch
     * 2. Loops: for, for/in, for/of, while, do/while, forEach
     * 3. Control Flow: break, continue, labeled break
     * 4. Practical Applications: Greetings, weekday calculation, array/object iteration
     * 5. Event Handling: Form submission, button clicks, keydown
     * 
     * Functionality:
     * - Generate time-based greetings with if/else
     * - Calculate weekday names with switch
     * - Run different loop types over arrays, objects, or strings
     * - Apply break/continue to control loops
     * - Generate random links with if/else
     * - Test labeled break in code blocks
     * - Log interactions to console for learning
     * - Handle errors for invalid inputs
     */

    // Get DOM elements
    const greetingForm = document.getElementById("greeting-form");
    const timeInput = document.getElementById("time-input");
    const weekdayForm = document.getElementById("weekday-form");
    const dayInput = document.getElementById("day-input");
    const loopForm = document.getElementById("loop-form");
    const iterationsInput = document.getElementById("iterations-input");
    const loopTypeSelect = document.getElementById("loop-type");
    const dataTypeSelect = document.getElementById("data-type");
    const controlForm = document.getElementById("control-form");
    const controlValueInput = document.getElementById("control-value");
    const controlTypeSelect = document.getElementById("control-type");
    const output = document.getElementById("output");
    const randomLinkBtn = document.getElementById("random-link");
    const labeledBreakBtn = document.getElementById("labeled-break");

    let interactionId = 0; // Counter for interaction tracking

    // Sample data
    const cars = ["BMW", "Volvo", "Saab", "Ford"];
    const person = { fname: "John", lname: "Doe", age: 25 };
    const language = "JavaScript";

    // =============================================
    // 1. WINDOW LOAD EVENT
    // =============================================
    window.addEventListener("load", () => {
      console.log("Window loaded - JavaScript Conditionals & Loops Demo ready!");
      displayOutput("Welcome to the Conditionals & Loops Demo!");
    });

    // =============================================
    // 2. DISPLAY OUTPUT FUNCTION
    // =============================================
    /*
     * Displays the result of conditionals or loops.
     * Uses template literals for formatted output.
     */
    function displayOutput(message, content = "") {
      const outputHTML = `
        <h3>${message}</h3>
        ${content}
      `;
      output.innerHTML = outputHTML;
    }

    // =============================================
    // 3. GREETING FORM SUBMIT EVENT (IF/ELSE)
    // =============================================
    greetingForm.addEventListener("submit", (event) => {
      event.preventDefault();
      const time = parseInt(timeInput.value);
      interactionId++;

      if (isNaN(time) || time < 0 || time > 23) {
        output.innerHTML = '<p class="error">Please enter a valid time (0-23)!</p>';
        console.log("Greeting form submit failed - Invalid input");
        return;
      }

      let greeting;
      if (time < 10) {
        greeting = "Good morning";
      } else if (time < 20) {
        greeting = "Good day";
      } else {
        greeting = "Good evening";
      }
      displayOutput(`Greeting for Time ${time}:00:`, `
        <p>Result: <span class="highlight">${greeting}</span></p>
      `);
      console.log(`Generated greeting for time ${time}: ${greeting} (Interaction #${interactionId})`);
      timeInput.value = "";
    });

    // =============================================
    // 4. WEEKDAY FORM SUBMIT EVENT (SWITCH)
    // =============================================
    weekdayForm.addEventListener("submit", (event) => {
      event.preventDefault();
      const dayNum = parseInt(dayInput.value);
      interactionId++;

      if (isNaN(dayNum) || dayNum < 0 || dayNum > 6) {
        output.innerHTML = '<p class="error">Please enter a valid day number (0-6)!</p>';
        console.log("Weekday form submit failed - Invalid input");
        return;
      }

      let day;
      switch (dayNum) {
        case 0: day = "Sunday"; break;
        case 1: day = "Monday"; break;
        case 2: day = "Tuesday"; break;
        case 3: day = "Wednesday"; break;
        case 4: day = "Thursday"; break;
        case 5: day = "Friday"; break;
        case 6: day = "Saturday"; break;
      }
      displayOutput(`Weekday for Number ${dayNum}:`, `
        <p>Result: <span class="highlight">${day}</span></p>
      `);
      console.log(`Calculated weekday for ${dayNum}: ${day} (Interaction #${interactionId})`);
      dayInput.value = "";
    });

    // =============================================
    // 5. LOOP FORM SUBMIT EVENT (RUN LOOPS)
    // =============================================
    loopForm.addEventListener("submit", (event) => {
      event.preventDefault();
      const iterations = parseInt(iterationsInput.value);
      const loopType = loopTypeSelect.value;
      const dataType = dataTypeSelect.value;
      interactionId++;

      if (isNaN(iterations) || iterations < 1) {
        output.innerHTML = '<p class="error">Please enter a valid number of iterations!</p>';
        console.log("Loop form submit failed - Invalid iterations");
        return;
      }

      let text = "";
      let data;
      if (dataType === "array") data = cars;
      else if (dataType === "object") data = person;
      else data = language;

      try {
        if (loopType === "for") {
          if (dataType === "object") {
            let keys = Object.keys(data);
            for (let i = 0; i < Math.min(iterations, keys.length); i++) {
              text += `${keys[i]}: ${data[keys[i]]}<br>`;
            }
          } else {
            for (let i = 0; i < Math.min(iterations, data.length); i++) {
              text += `${data[i]}<br>`;
            }
          }
        } else if (loopType === "for-in") {
          let count = 0;
          for (let x in data) {
            if (count >= iterations) break;
            text += dataType === "object" ? `${x}: ${data[x]}<br>` : `${data[x]}<br>`;
            count++;
          }
        } else if (loopType === "for-of") {
          let count = 0;
          for (let x of data) {
            if (count >= iterations) break;
            text += `${x}<br>`;
            count++;
          }
        } else if (loopType === "while") {
          let i = 0;
          while (i < iterations && i < data.length) {
            text += dataType === "object" ? `${Object.keys(data)[i]}: ${data[Object.keys(data)[i]]}<br>` : `${data[i]}<br>`;
            i++;
          }
        } else if (loopType === "do-while") {
          let i = 0;
          do {
            if (i >= iterations || i >= data.length) break;
            text += dataType === "object" ? `${Object.keys(data)[i]}: ${data[Object.keys(data)[i]]}<br>` : `${data[i]}<br>`;
            i++;
          } while (i < iterations && i < data.length);
        } else if (loopType === "forEach") {
          let count = 0;
          (dataType === "array" ? data : Object.values(data)).forEach((value) => {
            if (count >= iterations) return;
            text += `${value}<br>`;
            count++;
          });
        }
        displayOutput(`${loopType} Loop over ${dataType} (${iterations} iterations):`, `
          <p>${text || "No results"}</p>
        `);
        console.log(`Ran ${loopType} loop over ${dataType} for ${iterations} iterations (Interaction #${interactionId})`);
      } catch (e) {
        output.innerHTML = `<p class="error">Error: ${e.message}</p>`;
        console.log(`Error running loop: ${e.message} (Interaction #${interactionId})`);
      }
      iterationsInput.value = "";
    });

    // =============================================
    // 6. CONTROL FORM SUBMIT EVENT (BREAK/CONTINUE)
    // =============================================
    controlForm.addEventListener("submit", (event) => {
      event.preventDefault();
      const controlValue = controlValueInput.value.trim();
      const controlType = controlTypeSelect.value;
      interactionId++;

      if (!controlValue) {
        output.innerHTML = '<p class="error">Please enter a value!</p>';
        console.log("Control form submit failed - Empty input");
        return;
      }

      let text = "";
      for (let i = 0; i < cars.length; i++) {
        if (cars[i] === controlValue) {
          if (controlType === "break") break;
          if (controlType === "continue") continue;
        }
        text += `${cars[i]}<br>`;
      }
      displayOutput(`${controlType} at "${controlValue}" in Cars Array:`, `
        <p>${text || "No results"}</p>
      `);
      console.log(`Applied ${controlType} at "${controlValue}" (Interaction #${interactionId})`);
      controlValueInput.value = "";
    });

    // =============================================
    // 7. RANDOM LINK BUTTON (IF/ELSE)
    // =============================================
    randomLinkBtn.addEventListener("click", () => {
      interactionId++;
      let text;
      if (Math.random() < 0.5) {
        text = `<a href="https://w3schools.com" target="_blank">Visit W3Schools</a>`;
      } else {
        text = `<a href="https://www.worldwildlife.org" target="_blank">Visit WWF</a>`;
      }
      displayOutput("Random Link:", text);
      console.log(`Generated random link (Interaction #${interactionId})`);
    });

    // =============================================
    // 8. LABELED BREAK BUTTON
    // =============================================
    labeledBreakBtn.addEventListener("click", () => {
      interactionId++;
      let text = "";
      listBlock: {
        text += `${cars[0]}<br>`;
        text += `${cars[1]}<br>`;
        break listBlock;
        text += `${cars[2]}<br>`;
        text += `${cars[3]}<br>`;
      }
      displayOutput("Labeled Break Block:", `
        <p>${text}</p>
      `);
      console.log(`Applied labeled break (Interaction #${interactionId})`);
    });

    // =============================================
    // 9. KEYDOWN EVENT ON INPUT
    // =============================================
    timeInput.addEventListener("keydown", (event) => {
      const keyPressed = event.key;
      console.log(`Keydown - Key pressed: ${keyPressed}`);
      if (keyPressed === "Enter") {
        console.log("Enter key detected - Greeting form may submit");
      }
    });

  </script>
</body>
</html>