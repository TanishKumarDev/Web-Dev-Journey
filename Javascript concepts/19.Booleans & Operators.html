<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>JavaScript Booleans & Operators Demo</title>
  <style>
    /* Styling for the Booleans and operators demo */
    body {
      font-family: Arial, sans-serif;
      max-width: 800px;
      margin: 20px auto;
      padding: 10px;
      color: white;
      background-color: rgb(22, 22, 22);
    }
    input, button, select {
      padding: 8px;
      margin: 5px;
      border: none;
      border-radius: 4px;
    }
    button {
      background-color: #007bff;
      color: white;
      cursor: pointer;
    }
    button:hover {
      background-color: #0056b3;
    }
    #output {
      margin-top: 20px;
      padding: 10px;
      border: 1px solid #444;
      border-radius: 4px;
      background-color: #333;
    }
    .highlight {
      background-color: #444;
      padding: 2px 5px;
      border-radius: 3px;
    }
    .error {
      color: #ff4444;
      font-style: italic;
    }
    #action-buttons {
      display: flex;
      flex-wrap: wrap;
      gap: 5px;
      margin-top: 10px;
    }
    label {
      margin-right: 10px;
    }
    form {
      display: flex;
      align-items: center;
      gap: 10px;
    }
  </style>
</head>
<body>
  <h1>JavaScript Booleans & Operators Demo</h1>
  <p>Explore Booleans, comparison operators, logical operators, and more.</p>
  <form id="boolean-form">
    <label for="expression-input">Enter Expression:</label>
    <input type="text" id="expression-input" placeholder="e.g., 10 > 9">
    <button type="submit">Evaluate Boolean</button>
  </form>
  <form id="comparison-form">
    <label for="value1-input">Value 1:</label>
    <input type="text" id="value1-input" placeholder="e.g., 5">
    <select id="operator">
      <option value="==">==</option>
      <option value="===">===</option>
      <option value="!=">!=</option>
      <option value="!==">!==</option>
      <option value=">">></option>
      <option value="<"><</option>
      <option value=">=">>=</option>
      <option value="<="><=</option>
    </select>
    <label for="value2-input">Value 2:</label>
    <input type="text" id="value2-input" placeholder="e.g., 5">
    <button type="submit">Compare</button>
  </form>
  <form id="logical-form">
    <label for="condition1-input">Condition 1:</label>
    <input type="text" id="condition1-input" placeholder="e.g., 6 < 10">
    <select id="logical-operator">
      <option value="&&">&&</option>
      <option value="||">||</option>
    </select>
    <label for="condition2-input">Condition 2:</label>
    <input type="text" id="condition2-input" placeholder="e.g., 3 > 1">
    <button type="submit">Evaluate Logical</button>
  </form>
  <form id="age-form">
    <label for="age-input">Enter Age:</label>
    <input type="number" id="age-input" placeholder="e.g., 18">
    <button type="submit">Check Voting Eligibility</button>
  </form>
  <div id="action-buttons">
    <button id="boolean-object">Compare Boolean Object</button>
    <button id="nullish">Test Nullish Coalescing</button>
    <button id="optional-chaining">Test Optional Chaining</button>
    <button id="truthy-falsy">Test Truthy/Falsy Values</button>
  </div>
  <div id="output"></div>

  <script>
    /*
     * JavaScript Booleans & Operators Demo
     * 
     * This project demonstrates JavaScript Booleans and operators:
     * 1. Booleans: true/false, Boolean() function, truthy/falsy values
     * 2. Comparison Operators: ==, ===, !=, !==, >, <, >=, <=
     * 3. Logical Operators: &&, ||, !
     * 4. Ternary Operator: condition ? value1 : value2
     * 5. Nullish Coalescing: ??
     * 6. Optional Chaining: ?.
     * 7. Boolean Objects: Pitfalls of new Boolean()
     * 8. Event Handling: Form submission, button clicks, keydown
     * 
     * Functionality:
     * - Evaluate Boolean expressions
     * - Compare values with different operators
     * - Combine conditions with logical operators
     * - Check voting eligibility using ternary operator
     * - Test nullish coalescing and optional chaining
     * - Compare primitive vs. object Booleans
     * - Log interactions to console for learning
     * - Handle errors for invalid inputs
     */

    // Get DOM elements
    const booleanForm = document.getElementById("boolean-form");
    const expressionInput = document.getElementById("expression-input");
    const comparisonForm = document.getElementById("comparison-form");
    const value1Input = document.getElementById("value1-input");
    const operatorSelect = document.getElementById("operator");
    const value2Input = document.getElementById("value2-input");
    const logicalForm = document.getElementById("logical-form");
    const condition1Input = document.getElementById("condition1-input");
    const logicalOperatorSelect = document.getElementById("logical-operator");
    const condition2Input = document.getElementById("condition2-input");
    const ageForm = document.getElementById("age-form");
    const ageInput = document.getElementById("age-input");
    const output = document.getElementById("output");
    const booleanObjectBtn = document.getElementById("boolean-object");
    const nullishBtn = document.getElementById("nullish");
    const optionalChainingBtn = document.getElementById("optional-chaining");
    const truthyFalsyBtn = document.getElementById("truthy-falsy");

    let interactionId = 0; // Counter for interaction tracking

    // Sample object for optional chaining
    const car = { type: "Fiat", model: "500", color: "white" };

    // =============================================
    // 1. WINDOW LOAD EVENT
    // =============================================
    window.addEventListener("load", () => {
      console.log("Window loaded - JavaScript Booleans & Operators Demo ready!");
      displayOutput("Welcome to the Booleans & Operators Demo!");
    });

    // =============================================
    // 2. DISPLAY OUTPUT FUNCTION
    // =============================================
    /*
     * Displays the result of Boolean or operator operations.
     * Uses template literals for formatted output.
     */
    function displayOutput(message, content = "") {
      const outputHTML = `
        <h3>${message}</h3>
        ${content}
      `;
      output.innerHTML = outputHTML;
    }

    // =============================================
    // 3. BOOLEAN FORM SUBMIT EVENT (EVALUATE BOOLEAN)
    // =============================================
    booleanForm.addEventListener("submit", (event) => {
      event.preventDefault();
      const expression = expressionInput.value.trim();
      interactionId++;

      if (!expression) {
        output.innerHTML = '<p class="error">Please enter an expression!</p>';
        console.log("Boolean form submit failed - Empty input");
        return;
      }

      try {
        // Safely evaluate expression
        const result = eval(expression);
        const booleanResult = Boolean(result);
        displayOutput(`Boolean Evaluation of "${expression}":`, `
          <p>Result: <span class="highlight">${result}</span></p>
          <p>Boolean: <span class="highlight">${booleanResult}</span></p>
        `);
        console.log(`Evaluated "${expression}" -> ${result}, Boolean: ${booleanResult} (Interaction #${interactionId})`);
      } catch (e) {
        output.innerHTML = `<p class="error">Error: Invalid expression (${e.message})</p>`;
        console.log(`Error evaluating expression: ${e.message} (Interaction #${interactionId})`);
      }
      expressionInput.value = "";
    });

    // =============================================
    // 4. COMPARISON FORM SUBMIT EVENT (COMPARE VALUES)
    // =============================================
    comparisonForm.addEventListener("submit", (event) => {
      event.preventDefault();
      const value1 = value1Input.value.trim();
      const value2 = value2Input.value.trim();
      const operator = operatorSelect.value;
      interactionId++;

      if (!value1 || !value2) {
        output.innerHTML = '<p class="error">Please enter both values!</p>';
        console.log("Comparison form submit failed - Empty input");
        return;
      }

      try {
        // Evaluate comparison
        let result;
        switch (operator) {
          case "==": result = value1 == value2; break;
          case "===": result = value1 === value2; break;
          case "!=": result = value1 != value2; break;
          case "!==": result = value1 !== value2; break;
          case ">": result = value1 > value2; break;
          case "<": result = value1 < value2; break;
          case ">=": result = value1 >= value2; break;
          case "<=": result = value1 <= value2; break;
        }
        displayOutput(`Comparison: ${value1} ${operator} ${value2}`, `
          <p>Result: <span class="highlight">${result}</span></p>
        `);
        console.log(`Compared ${value1} ${operator} ${value2} -> ${result} (Interaction #${interactionId})`);
      } catch (e) {
        output.innerHTML = `<p class="error">Error: ${e.message}</p>`;
        console.log(`Error comparing values: ${e.message} (Interaction #${interactionId})`);
      }
      value1Input.value = "";
      value2Input.value = "";
    });

    // =============================================
    // 5. LOGICAL FORM SUBMIT EVENT (EVALUATE LOGICAL)
    // =============================================
    logicalForm.addEventListener("submit", (event) => {
      event.preventDefault();
      const condition1 = condition1Input.value.trim();
      const condition2 = condition2Input.value.trim();
      const operator = logicalOperatorSelect.value;
      interactionId++;

      if (!condition1 || !condition2) {
        output.innerHTML = '<p class="error">Please enter both conditions!</p>';
        console.log("Logical form submit failed - Empty input");
        return;
      }

      try {
        const result1 = eval(condition1);
        const result2 = eval(condition2);
        let finalResult;
        if (operator === "&&") {
          finalResult = result1 && result2;
        } else {
          finalResult = result1 || result2;
        }
        displayOutput(`Logical: (${condition1}) ${operator} (${condition2})`, `
          <p>Condition 1: <span class="highlight">${result1}</span></p>
          <p>Condition 2: <span class="highlight">${result2}</span></p>
          <p>Result: <span class="highlight">${finalResult}</span></p>
        `);
        console.log(`Evaluated (${condition1}) ${operator} (${condition2}) -> ${finalResult} (Interaction #${interactionId})`);
      } catch (e) {
        output.innerHTML = `<p class="error">Error: Invalid conditions (${e.message})</p>`;
        console.log(`Error evaluating logical: ${e.message} (Interaction #${interactionId})`);
      }
      condition1Input.value = "";
      condition2Input.value = "";
    });

    // =============================================
    // 6. AGE FORM SUBMIT EVENT (CHECK VOTING ELIGIBILITY)
    // =============================================
    ageForm.addEventListener("submit", (event) => {
      event.preventDefault();
      const age = parseFloat(ageInput.value);
      interactionId++;

      if (isNaN(age)) {
        output.innerHTML = '<p class="error">Please enter a valid age!</p>';
        console.log("Age form submit failed - Invalid input");
        return;
      }

      const voteable = age < 18 ? "Too young" : "Old enough";
      displayOutput(`Voting Eligibility for Age ${age}:`, `
        <p>Result: <span class="highlight">${voteable}</span></p>
      `);
      console.log(`Checked voting eligibility for age ${age}: ${voteable} (Interaction #${interactionId})`);
      ageInput.value = "";
    });

    // =============================================
    // 7. COMPARE BOOLEAN OBJECT
    // =============================================
    booleanObjectBtn.addEventListener("click", () => {
      interactionId++;
      const x = false;
      const y = new Boolean(false);
      displayOutput("Compare Boolean Object:", `
        <p>x = false (primitive)</p>
        <p>y = new Boolean(false) (object)</p>
        <p>x == y: <span class="highlight">${x == y}</span></p>
        <p>x === y: <span class="highlight">${x === y}</span></p>
        <p>typeof x: <span class="highlight">${typeof x}</span></p>
        <p>typeof y: <span class="highlight">${typeof y}</span></p>
      `);
      console.log(`Compared Boolean object: x == y -> ${x == y}, x === y -> ${x === y} (Interaction #${interactionId})`);
    });

    // =============================================
    // 8. TEST NULLISH COALESCING
    // =============================================
    nullishBtn.addEventListener("click", () => {
      interactionId++;
      const name = null;
      const text = "missing";
      const result = name ?? text;
      displayOutput("Nullish Coalescing (??):", `
        <p>name: <span class="highlight">${name}</span></p>
        <p>text: <span class="highlight">${text}</span></p>
        <p>name ?? text: <span class="highlight">${result}</span></p>
      `);
      console.log(`Tested nullish coalescing: ${result} (Interaction #${interactionId})`);
    });

    // =============================================
    // 9. TEST OPTIONAL CHAINING
    // =============================================
    optionalChainingBtn.addEventListener("click", () => {
      interactionId++;
      const name = car?.name;
      const type = car?.type;
      displayOutput("Optional Chaining (?.):", `
        <p>car: <span class="highlight">${JSON.stringify(car)}</span></p>
        <p>car?.name: <span class="highlight">${name}</span></p>
        <p>car?.type: <span class="highlight">${type}</span></p>
      `);
      console.log(`Tested optional chaining: name -> ${name}, type -> ${type} (Interaction #${interactionId})`);
    });

    // =============================================
    // 10. TEST TRUTHY/FALSY VALUES
    // =============================================
    truthyFalsyBtn.addEventListener("click", () => {
      interactionId++;
      const values = [100, 0, "Hello", "", undefined, null, false, NaN];
      const results = values.map(v => Boolean(v));
      displayOutput("Truthy/Falsy Values:", `
        ${values.map((v, i) => `
          <p>${v === null ? "null" : v === undefined ? "undefined" : v} -> <span class="highlight">${results[i]}</span></p>
        `).join("")}
      `);
      console.log(`Tested truthy/falsy values: ${results} (Interaction #${interactionId})`);
    });

    // =============================================
    // 11. KEYDOWN EVENT ON INPUT
    // =============================================
    expressionInput.addEventListener("keydown", (event) => {
      const keyPressed = event.key;
      console.log(`Keydown - Key pressed: ${keyPressed}`);
      if (keyPressed === "Enter") {
        console.log("Enter key detected - Boolean form may submit");
      }
    });

  </script>
</body>
</html>