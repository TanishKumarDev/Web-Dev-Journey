<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>JavaScript Let and Const Demo</title>
  <style>
    /* Basic styling for clarity */
    body {
      font-family: Arial, sans-serif;
      max-width: 600px;
      margin: 20px auto;
      padding: 10px;
    }
    button {
      padding: 8px;
      margin: 5px;
    }
    #demo {
      border: 1px solid #ccc;
      padding: 10px;
      margin: 10px 0;
    }
  </style>
</head>
<body>
  <h1>JavaScript Let and Const Demo</h1>
  <p>This page demonstrates <code>let</code> and <code>const</code> with string-focused examples.</p>
  <div id="demo">Initial Content</div>
  <button onclick="updateContent()">Update Content</button>

  <script>
    /*
     * JavaScript Let and Const - Explanation and Demo
     * 
     * This guide explains the W3Schools "JavaScript Let" and "JavaScript Const" tutorials, covering:
     * 1. Let Keyword: Block scope, no redeclaration, hoisting
     * 2. Const Keyword: Block scope, no redeclaration/reassignment, constant references
     * 3. Block Scope: Variables limited to {} blocks
     * 4. Global Scope: Comparison with var
     * 5. Redeclaration and Reassignment: Rules for let and const
     * 6. Hoisting: Differences between var, let, and const
     * 7. Constant Arrays and Objects: Mutable elements/properties
     * 8. Differences Between var, let, const: Scope, redeclare, reassign, hoisting, this binding
     * 9. Strings in Let and Const: Emphasis on string usage
     * 10. Exercise (Let): Correct let syntax
     * 
     * Key Points:
     * - let and const (ES6, 2015) provide block scope, unlike var
     * - let allows reassignment but not redeclaration
     * - const prevents reassignment and redeclaration; allows mutable array/object elements
     * - Strings are commonly used with let and const for DOM updates
     * - Browser support: Chrome 49, Edge 12, Firefox 36, Safari 11, Opera 36 (2015-2017)
     * 
     * Current Date: June 08, 2025
     */

    // =============================================
    // 1. LET KEYWORD
    // =============================================
    /*
     * let declares block-scoped variables that cannot be redeclared in the same scope.
     * Must be declared before use; hoisted but not initialized.
     * Example: let with strings and numbers.
     */

    let name = "John Doe"; // Declare with string
    let age = 30; // Declare with number
    console.log("let variables:", name, age); // John Doe 30

    // Reassignment is allowed
    name = "Jane Doe";
    console.log("Reassigned let:", name); // Jane Doe

    // Redeclaration in same scope is not allowed
    // let name = "Bob"; // Error: Identifier 'name' has already been declared

    // =============================================
    // 2. CONST KEYWORD
    // =============================================
    /*
     * const declares block-scoped variables that cannot be redeclared or reassigned.
     * Must be assigned at declaration; hoisted but not initialized.
     * Example: const with strings and numbers.
     */

    const siteName = "W3Schools"; // Constant string
    const pi = 3.14159265359; // Constant number
    console.log("const variables:", siteName, pi); // W3Schools 3.14159265359

    // Reassignment is not allowed
    // pi = 3.14; // Error: Assignment to constant variable
    // siteName = "Other"; // Error: Assignment to constant variable

    // Must assign at declaration
    // const unassigned; // Error: Missing initializer in const declaration

    // =============================================
    // 3. BLOCK SCOPE
    // =============================================
    /*
     * let and const have block scope: variables are only accessible within {}.
     * Example: Block scope with let and const using strings.
     */

    let globalLet = "Global Let";
    const globalConst = "Global Const";
    console.log("Outside block:", globalLet, globalConst); // Global Let Global Const

    {
      let blockLet = "Block Let";
      const blockConst = "Block Const";
      console.log("Inside block:", blockLet, blockConst); // Block Let Block Const
    }

    // console.log(blockLet); // Error: blockLet is not defined
    // console.log(blockConst); // Error: blockConst is not defined
    console.log("After block:", globalLet, globalConst); // Global Let Global Const

    // var lacks block scope
    var globalVar = 10;
    {
      var globalVar = 2;
      console.log("var inside block:", globalVar); // 2
    }
    console.log("var after block:", globalVar); // 2 (redeclared globally)

    // =============================================
    // 4. GLOBAL SCOPE
    // =============================================
    /*
     * var has global scope, even when declared in blocks.
     * let and const limit scope to blocks, preventing global pollution.
     * Example: Compare var and let/const.
     */

    var varX = "Global var";
    {
      var varX = "Block var";
    }
    console.log("var global scope:", varX); // Block var

    let letX = "Global let";
    {
      let letX = "Block let";
      console.log("let inside block:", letX); // Block let
    }
    console.log("let global scope:", letX); // Global let

    // =============================================
    // 5. REDECLARATION AND REASSIGNMENT
    // =============================================
    /*
     * let: No redeclaration in same scope; reassignment allowed.
     * const: No redeclaration or reassignment.
     * var: Allows redeclaration and reassignment anywhere.
     * Example: Test redeclaration and reassignment with strings.
     */

    var varRedeclare = "First";
    var varRedeclare = "Second"; // Redeclaration allowed
    console.log("var redeclare:", varRedeclare); // Second

    let letRedeclare = "First";
    // let letRedeclare = "Second"; // Error: Identifier 'letRedeclare' has already been declared
    letRedeclare = "Second"; // Reassignment allowed
    console.log("let redeclare/reassign:", letRedeclare); // Second

    const constRedeclare = "First";
    // const constRedeclare = "Second"; // Error: Identifier 'constRedeclare' has already been declared
    // constRedeclare = "Second"; // Error: Assignment to constant variable
    console.log("const redeclare:", constRedeclare); // First

    // Redeclaring across blocks
    let blockRedeclare = "Outer";
    {
      let blockRedeclare = "Inner"; // Different scope, allowed
      console.log("let inner block:", blockRedeclare); // Inner
    }
    console.log("let outer block:", blockRedeclare); // Outer

    // =============================================
    // 6. HOISTING
    // =============================================
    /*
     * var: Hoisted and initialized (undefined), usable before declaration.
     * let/const: Hoisted but not initialized (ReferenceError if used before declaration).
     * Example: Demonstrate hoisting behavior.
     */

    console.log("var hoisting:", hoistedVar); // undefined
    var hoistedVar = "Hoisted";

    // console.log("let hoisting:", hoistedLet); // ReferenceError: Cannot access 'hoistedLet' before initialization
    let hoistedLet = "Hoisted";

    // console.log("const hoisting:", hoistedConst); // ReferenceError: Cannot access 'hoistedConst' before initialization
    const hoistedConst = "Hoisted";

    // =============================================
    // 7. CONSTANT ARRAYS AND OBJECTS
    // =============================================
    /*
     * const prevents reassignment of arrays/objects but allows changing elements/properties.
     * Example: Mutable arrays and objects with const.
     */

    const cars = ["Saab", "Volvo", "BMW"];
    cars[0] = "Toyota"; // Allowed: Change element
    cars.push("Audi"); // Allowed: Add element
    console.log("const array:", cars); // ["Toyota", "Volvo", "BMW", "Audi"]

    // cars = ["New Cars"]; // Error: Assignment to constant variable

    const car = { type: "Fiat", model: "500", color: "white" };
    car.color = "red"; // Allowed: Change property
    car.owner = "Johnson"; // Allowed: Add property
    console.log("const object:", car); // { type: "Fiat", model: "500", color: "red", owner: "Johnson" }

    // car = { type: "Volvo" }; // Error: Assignment to constant variable

    // =============================================
    // 8. STRINGS IN LET AND CONST
    // =============================================
    /*
     * Strings are commonly used with let and const for DOM updates and manipulation.
     * Example: Function using let and const with string operations.
     */

    function updateContent() {
      const prefix = "Learning: "; // const string
      let input = "  javascript  "; // let string
      let formatted = prefix + input.trim().toUpperCase(); // String manipulation
      document.getElementById("demo").innerHTML = formatted;
      console.log("Updated content:", formatted); // Learning: JAVASCRIPT
      return formatted;
    }

    updateContent();

    // =============================================
    // 9. DIFFERENCES BETWEEN var, let, const
    // =============================================
    /*
     * Summary table:
     * - var: Global scope, redeclare, reassign, hoisted, binds this
     * - let: Block scope, no redeclare, reassign, hoisted (not initialized), no this binding
     * - const: Block scope, no redeclare, no reassign, hoisted (not initialized), no this binding
     * Example: Compare behaviors.
     */

    var varTest = "Var";
    let letTest = "Let";
    const constTest = "Const";
    console.log("Variable types:", varTest, letTest, constTest); // Var Let Const

    // =============================================
    // 10. EXERCISE (LET)
    // =============================================
    /*
     * Exercise: What is a correct use of the let keyword?
     * Options: let x = 5;, x let 5;, let 5 into x;, x = 5(let);
     * Correct Answer: let x = 5;
     * Incorrect: Others are invalid syntax
     */

    console.log("Exercise answer: let x = 5; is the correct syntax");

  </script>
</body>
</html>